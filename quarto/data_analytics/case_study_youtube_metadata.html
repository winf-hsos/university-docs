<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Explorative Datenanalyse: Niedersächsische Hochschulen auf YouTube</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="case_study_youtube_metadata_files/libs/clipboard/clipboard.min.js"></script>
<script src="case_study_youtube_metadata_files/libs/quarto-html/quarto.js"></script>
<script src="case_study_youtube_metadata_files/libs/quarto-html/popper.min.js"></script>
<script src="case_study_youtube_metadata_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="case_study_youtube_metadata_files/libs/quarto-html/anchor.min.js"></script>
<link href="case_study_youtube_metadata_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="case_study_youtube_metadata_files/libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="case_study_youtube_metadata_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="case_study_youtube_metadata_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="case_study_youtube_metadata_files/libs/bootstrap/bootstrap-8a79a254b8e706d3c925cde0a310d4f0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#einführung" id="toc-einführung" class="nav-link active" data-scroll-target="#einführung">Einführung</a>
  <ul class="collapse">
  <li><a href="#forschungsfragen" id="toc-forschungsfragen" class="nav-link" data-scroll-target="#forschungsfragen">Forschungsfragen</a></li>
  <li><a href="#aufgabenstellung" id="toc-aufgabenstellung" class="nav-link" data-scroll-target="#aufgabenstellung">Aufgabenstellung</a></li>
  <li><a href="#informationen-zum-datensatz" id="toc-informationen-zum-datensatz" class="nav-link" data-scroll-target="#informationen-zum-datensatz">Informationen zum Datensatz</a></li>
  </ul></li>
  <li><a href="#sec-descriptive-analysis" id="toc-sec-descriptive-analysis" class="nav-link" data-scroll-target="#sec-descriptive-analysis">Aufgabe 1: Deskriptive Analysen</a></li>
  <li><a href="#sec-exploratory-analysis" id="toc-sec-exploratory-analysis" class="nav-link" data-scroll-target="#sec-exploratory-analysis">Aufgabe 2: Explorative Analysen</a></li>
  <li><a href="#hinweise-zur-fallstudie" id="toc-hinweise-zur-fallstudie" class="nav-link" data-scroll-target="#hinweise-zur-fallstudie">Hinweise zur Fallstudie</a>
  <ul class="collapse">
  <li><a href="#bearbeitung" id="toc-bearbeitung" class="nav-link" data-scroll-target="#bearbeitung">Bearbeitung</a></li>
  <li><a href="#abgabe" id="toc-abgabe" class="nav-link" data-scroll-target="#abgabe">Abgabe</a></li>
  <li><a href="#kurzvorstellung-der-ergebnisse" id="toc-kurzvorstellung-der-ergebnisse" class="nav-link" data-scroll-target="#kurzvorstellung-der-ergebnisse">Kurzvorstellung der Ergebnisse</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Andere Formate</h2><ul><li><a href="case_study_youtube_metadata.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Explorative Datenanalyse: Niedersächsische Hochschulen auf YouTube</h1>
<p class="subtitle lead">Fallstudie im Wintersemester 2024/2025</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="einführung" class="level2">
<h2 class="anchored" data-anchor-id="einführung">Einführung</h2>
<section id="forschungsfragen" class="level3">
<h3 class="anchored" data-anchor-id="forschungsfragen">Forschungsfragen</h3>
<p>YouTube ist eine wichtige Plattform für die Ansprache von Studieninteressierten, Studierenden sowie weiteren Zielgruppen wie Alumni, Unternehmen und der breiten Öffentlichkeit. Die Art und Weise, wie Hochschulen ihre Inhalte präsentieren, kann starken Einfluss auf deren Wahrnehmung und Attraktivität haben. In dieser Fallstudie sollt ihr untersuchen, wie verschiedene Hochschulen in Deutschland - insbesondere die in Niedersachsen ansässigen und große Fernuniversitäten - YouTube für ihre Zwecke nutzen. Hierzu stehen euch Metadaten von über 4.100 YouTube-Videos zur Verfügung.</p>
<p>Dabei stehen die folgenden Forschungsfragen im Fokus eurer Analysen:</p>
<ol type="1">
<li><p>Wie aktiv sind deutsche Hochschulen und speziell die niedersächsischen Hochschulen sowie die größten Fernunis in ihrer Nutzung von YouTube als Kommunikations- und Marketingplattform?</p></li>
<li><p>Wie erfolgreich sind die Hochschulen auf der Plattform im Vergleich zueinander?</p></li>
</ol>
</section>
<section id="aufgabenstellung" class="level3">
<h3 class="anchored" data-anchor-id="aufgabenstellung">Aufgabenstellung</h3>
<p>Beantwortet die Fragen in den folgenden beiden Aufgabenteilen. Erstellt für jede Frage eine oder mehrere Visualisierungen mit <code>ggplot2</code> und führt die notwendigen Transformationen mit <code>dplyr</code> und anderen Tidyverse-Paketen durch. Speichert die Ergebnisse in einem R-Skript und verwendet Kommentare, um eure Lösungen zu den jeweiligen Fragen zuzuordnen.</p>
<p>Anschließend verfasst ihr eine zusammenhängende schriftliche Abhandlung in Form eines wissenschaftlichen Artikels auf Basis eurer Erkenntnisse. Nutzt Quarto zur Erstellung des Artikels. Überlegt euch eine sinnvolle Struktur und setzt diese mit Markdown um. Wählt die Analysen aus den Aufgabenteilen aus, die eurer Meinung nach am besten zur Forschungsfrage passen. Verfeinert die Visualisierungen, die in eurem Artikel verwendet werden, und passt Achsenbeschriftungen, Farben etc. an, so dass sie veröffentlichungswürdig sind. Verfasst zu jeder Analyse eine Interpretation und stellt die einzelnen Erkenntnisse in einen logischen Zusammenhang. Euer Artikel sollte nicht nur eine Aneinanderreihung von Visualisierungen sein, sondern ein zusammenhängender Text mit einer kurzen Einleitung, aufeinander aufbauenden Erkenntnissen aus den Analysen sowie einem Schlussteil mit einer kurzen Diskussion. Eine Aufarbeitung des Standes des Wissens aus der Literatur ist für diese Fallstudie nicht notwendig.</p>
</section>
<section id="informationen-zum-datensatz" class="level3">
<h3 class="anchored" data-anchor-id="informationen-zum-datensatz">Informationen zum Datensatz</h3>
<p>Der Datensatz beinhaltet Metadaten zu YouTube-Videos der größten niedersächsischen Hochschulen sowie der vier größten privaten Hochschulen deutschlandweit. Die Daten wurden am 29.11.2024 abgerufen. Laut <a href="https://de.wikipedia.org/wiki/Liste_der_Hochschulen_in_Deutschland">Wikipedia</a> sind die in der Tabelle aufgeführten Hochschulen die größten in Niedersachsen, gemessen an der Studierendenzahl. Die Hochschule Braunschweig wurde trotz mehr als 10.000 Studierenden nicht berücksichtigt.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Hochschule</th>
<th>Anzahl Studierende</th>
<th>YouTube Channel ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://www.uni-hannover.de/de/">Universität Hannover</a></td>
<td>28.925</td>
<td><a href="https://www.youtube.com/@LeibnizUniHannover">UCC0Eg0d1gGkpChelGo4-b4g</a></td>
</tr>
<tr class="even">
<td><a href="https://uni-goettingen.de/">Universität Göttingen</a></td>
<td>28.614</td>
<td><a href="https://www.youtube.com/@UnigoettingenDeVideos">UCzg-z2TL0Ks4Efz5o0z7AxQ</a></td>
</tr>
<tr class="odd">
<td><a href="https://www.tu-braunschweig.de/">TU Braunschweig</a></td>
<td>17.709</td>
<td><a href="https://www.youtube.com/@tubraunschweig">UC8X4NAyIUr9Q12hVUOoqyhQ</a></td>
</tr>
<tr class="even">
<td><a href="https://uol.de/">Universität Oldenburg</a></td>
<td>15.635</td>
<td><a href="https://www.youtube.com/@UniversityOldenburg">UCbVtIjTIrNYqozDxIJPjHHw</a></td>
</tr>
<tr class="odd">
<td><a href="https://www.uni-osnabrueck.de/">Universität Osnabrück</a></td>
<td>13.640</td>
<td><a href="https://www.youtube.com/@uniosnabrueck">UCN_aFLAXQEKZIa96PXxbi0Q</a></td>
</tr>
<tr class="even">
<td><a href="https://www.hs-osnabrueck.de/">Hochschule Osnabrück</a></td>
<td>13.620</td>
<td><a href="https://www.youtube.com/@HochschuleOS">UCblmQHzIyzVHnKHwu0nISrw</a></td>
</tr>
</tbody>
</table>
<p>Die erfolgreichsten privaten Hochschulen in ganz Deutschland mit mehr als 10.000 Studierenden sind laut <a href="https://de.wikipedia.org/wiki/Liste_der_Hochschulen_in_Deutschland">Wikipedia</a>:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Hochschule</th>
<th>Anzahl Studierende</th>
<th>YouTube Channel ID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://www.iu.de/">International University</a></td>
<td>85.483</td>
<td><a href="https://www.youtube.com/user/IUBHGermany">UCR4ZvrahpeSe1TBrmObSkSw</a></td>
</tr>
<tr class="even">
<td><a href="https://www.fom.de/">FOM</a></td>
<td>58.836</td>
<td><a href="https://www.youtube.com/@FomDe">UCdxxZI5F0u0l_wY8Bimsnow</a></td>
</tr>
<tr class="odd">
<td><a href="https://www.hs-fresenius.de/">Hochschule Fresenius</a></td>
<td>17.045</td>
<td><a href="https://www.youtube.com/@hsfresenius">UCq9E5LlsAWjzK5RkvhWUZKQ</a></td>
</tr>
<tr class="even">
<td><a href="https://www.hfh-fernstudium.de/">Hamburger Fern-Hochschule</a></td>
<td>13.629</td>
<td><a href="https://www.youtube.com/@HFHFernhochschule">UCSoSuBd4s-xJWHxJfqQCuvQ</a></td>
</tr>
</tbody>
</table>
<p>Folgende Variablen sind im Datensatz enthalten:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Variablenname</th>
<th>Beschreibung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>yt_id</code></td>
<td>Eindeutige ID eines Videos</td>
</tr>
<tr class="even">
<td><code>channel_id</code></td>
<td>Eindeutige ID des YouTube-Channels</td>
</tr>
<tr class="odd">
<td><code>channel_title</code></td>
<td>Name des YoutTube-Channels</td>
</tr>
<tr class="even">
<td><code>published_at</code></td>
<td>Zeitpunkt der Videoveröffentlichung</td>
</tr>
<tr class="odd">
<td><code>url</code></td>
<td>Link zum Video auf YouTube</td>
</tr>
<tr class="even">
<td><code>title</code></td>
<td>Titel des Videos</td>
</tr>
<tr class="odd">
<td><code>description</code></td>
<td>Kurze Beschreibung des Videos</td>
</tr>
<tr class="even">
<td><code>duration_seconds</code></td>
<td>Dauer des Videos in Sekunden</td>
</tr>
<tr class="odd">
<td><code>views</code></td>
<td>Anzahl der Ansichten zum Zeitpunkt des Datenabrufs</td>
</tr>
<tr class="even">
<td><code>language</code></td>
<td>Die Sprache des Videos</td>
</tr>
<tr class="odd">
<td><code>thumbnail</code></td>
<td>URL zum Vorschaubild des Videos</td>
</tr>
<tr class="even">
<td><code>likes</code></td>
<td>Anzahl der Likes des Videos zum Zeitpunkt des Datenabrufs</td>
</tr>
<tr class="odd">
<td><code>comment_count</code></td>
<td>Anzahl der Kommentare zum Zeitpunkt des Datenabrufs</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="sec-descriptive-analysis" class="level2">
<h2 class="anchored" data-anchor-id="sec-descriptive-analysis">Aufgabe 1: Deskriptive Analysen</h2>
<p>Die folgenden Aufgaben sind rein deskriptiv und können mit einer geeigneten Visualisuerung beantwortet werden:</p>
<ol type="1">
<li><p>Wie viele Videos hat jede Hochschule veröffentlicht? Erstellt eine Visualisierung, die die Anzahl der Videos nach Hochschulen zeigt.</p></li>
<li><p>Wie viele Videos wurden von jeder Hochschule in den letzten Jahren ab 2015 inklusive veröffentlicht? Erstellt eine Visualisierung, die einen schnellen Vergleich ermöglicht.</p></li>
<li><p>Wie verhält sich die durchschnittliche Anzahl der Views über die verschiedenen Hochschulen hinweg? Gibt es hier klare Spitzenreiter?</p></li>
<li><p>Welche Uhrzeiten werden von den Hochschulen für die Veröffentlichung ihrer Videos bevorzugt?</p></li>
<li><p>Welche Wochentage sind für die Veröffentlichung von Videos besonders beliebt?</p></li>
<li><p>Wie lang sind die Videos durchschnittlich? Gibt es hier Unterschiede zwischen den Hochschulen?</p></li>
<li><p>Wie ist die Verteilung der Likes der Videos? Gibt es hier Unterschiede zwischen den Hochschulen?</p></li>
<li><p>Wie entwickelt sich die durchschnittliche Anzahl Likes für jede Hochschule über die letzten Jahre ab 2015 inklusive? Erstellt eine Visualisierung, die einen schnellen Vergleich zulässt.</p></li>
<li><p>Visualisiert den Anteil an deutschsprachigen und englischsprachigen Videos für jede Hochschule.</p></li>
<li><p>Gibt es einen Zusammenhang zwischen der Anzahl Views und den Likes, die ein Video erhält?</p></li>
<li><p>Ermittelt für jede Hochschule die neue Kennzahl <em>Views per Subscriber</em> und stellt sie vergleichend dar.</p></li>
<li><p>In welchem Zeitabstand veröffentlichen die Hochschulen neue Videos auf ihren Kanälen?</p></li>
</ol>
</section>
<section id="sec-exploratory-analysis" class="level2">
<h2 class="anchored" data-anchor-id="sec-exploratory-analysis">Aufgabe 2: Explorative Analysen</h2>
<p>Für die folgenden Aufgaben sollt ihr neben deskriptiven Darstellungen auch Hypothesen aufstellen, die eure Beobachtungen erklären könnten. Versucht, die Hypothesen wenn möglich mit weiteren Analysen zu untersuchen:</p>
<ol type="1">
<li><p>Betrachtet Videos mit besonders hohen Zahlen bei Likes, Views und Kommentaren. Stellt Hypothesen auf, warum diese Videos so erfolgreich sind. Welche Eigenschaften könnten dafür verantwortlich sein?</p></li>
<li><p>Welche Rolle spielen Videotitel und Videobeschreibungen für die Anzahl der Views, Likes und Kommentare? Entwickelt eine Hypothese und überprüft sie anhand der Daten (z.B. könnten bestimmte Schlagworte die Reichweite erhöhen oder mehr Interaktionen fördern, möglicherweise spielt auch die Länge eine Rolle).</p></li>
<li><p>Gibt es einen Zusammenhang zwischen der Videodauer und der Anzahl der Views, Likes oder Kommentare? Stellt Hypothesen auf, um die beobachteten Zusammenhänge oder das Fehlen solcher Zusammenhänge zu erklären.</p></li>
<li><p>Gibt es Unterschiede zwischen den niedersächsischen Hochschulen und den privaten Fernunis in Bezug auf ihre Reichweite, die Art der Inhalte und die Interaktionsrate (Likes und Kommentare)?</p></li>
<li><p>Untersucht, wie sich die Nutzung und der Stellenwert der YouTube-Plattform im Laufe der Zeit für die Hochschule Osnabrück und die International University entwickelt haben. Stellt dazu Hypothsen auf zieht dazu auch Informationen hinzu, die ihr zu den beiden Hochschulen recherchiert und bringt sie in einem Zusammenhang mit den vorliegenden Daten.</p></li>
</ol>
</section>
<section id="hinweise-zur-fallstudie" class="level2">
<h2 class="anchored" data-anchor-id="hinweise-zur-fallstudie">Hinweise zur Fallstudie</h2>
<p>Beachtet bitte unbedingt die folgenden Hinweise zur Fallstudie.</p>
<section id="bearbeitung" class="level3">
<h3 class="anchored" data-anchor-id="bearbeitung">Bearbeitung</h3>
<ul>
<li><p>Beantwortet <em>jede</em> Frage unter Zuhilfenahme von mindestens einer geeigneten Visualisierung. Eure Aufgabe ist es, eine zielführende Visualisierungsform für die jeweilige Frage und Antwort zu finden.</p></li>
<li><p>Führt die explorative Datenanalyse ausschließlich mit R und dem RStudio durch. Für sämtliche Datentransformationen und Visualisuerungen verwendet ihr Funktionen aus dem Tidyverse.</p></li>
<li><p>Für Funktionen, die nicht im Tidyverse enthalten sind, dürft ihr auch andere Pakete verwenden. Achtet darauf, dass ihr die Pakete <em>zu Beginn</em> eures Skripts mit <code>library()</code> einbindet.</p></li>
<li><p>Eine explorative Datenanalyse lebt von eurer Kreativität und Ausdauer. Gebt euch nicht mit der ersten Analyse zufrieden, die ihr erstellt. Das gilt insbesondere, aber nicht nur, für offene Fragestellungen. Probiert mehrere Ansätze aus. Wenn ihr ein interessantes Muster entdeckt, geht dem tiefer auf den Grund. Obwohl alle Teams die gleichen Aufgaben haben, wird es viele verschiedene Lösungswege geben.</p></li>
<li><p>Wenn ihr bei einer Aufgabe nicht sicher seid, wie sie gemeint ist, oder Informationen fehlen, trefft sinnvolle Annahmen und dokumentiert sie in eurem Bericht.</p></li>
<li><p>Lesbarer Code ist besser als schwer verständlicher Code. Verwendet den Pipe-Operator, verteilt lange Ausdrücke auf mehrere Zeilen, rückt den Code ein und fügt Kommentare hinzu, wo es angebracht ist.</p></li>
<li><p>Reproduzierbarkeit ist in der Wissenschaft von großer Bedeutung. Stellt sicher, dass eure R-Skripte ohne zusätzlichen Aufwand auf einem anderen Computer ausgeführt werden können. Vermeidet also unbedingt absolute Pfadangaben.</p></li>
<li><p>Es ist in Ordnung, ab und an Code zu kopieren und sich von anderen inspirieren zu lassen, solange der kopierte Code verstanden und erklärt werden kann und die Quelle als Kommentar angegeben wird. Dies schließt auch Sprachmodelle wie ChatGPT ein.</p></li>
<li><p><em>Make it work, make nice!</em> Erst die Funktion, dann die Ästhetik! Verliert euch nicht in Details wie Achsenformatierung oder Farbpaletten, bevor ihr die korrekte Datenbasis erstellt und die geeignete Visualisierungsform gewählt habt. Eine unpassende Visualisierung, selbst wenn sie optisch ansprechend ist, wird euch nicht helfen. Denkt umgekehrt! In eurem Bericht sollte aber alles glänzen.</p></li>
</ul>
</section>
<section id="abgabe" class="level3">
<h3 class="anchored" data-anchor-id="abgabe">Abgabe</h3>
<ul>
<li><p>Führt den Code eurer Datenanalyse für die Aufgabenteile 1 und 2 für die Abgabe in <em>ein</em> R-Skript zusammen. Verwendet Kommentare, um die Fragen, zu dem der jeweilige Code gehört, in eurem Skript zu kennzeichnen. Das Skript muss von oben nach unten fehlerfrei ausführbar sein.</p></li>
<li><p>Verwendet für die Bearbeitung der Fallstudie das bereitgestelte R-Projekt. Für die Abgabe gebt ihr die beiden Dateien <code>case_study.R</code> und <code>article.qmd</code> über ILIAS ab. Achtet darauf, dass die Daten relativ zu diesen Dateien referenziert werden und im Ordner <code>data/</code> abgelegt sind.</p></li>
</ul>
</section>
<section id="kurzvorstellung-der-ergebnisse" class="level3">
<h3 class="anchored" data-anchor-id="kurzvorstellung-der-ergebnisse">Kurzvorstellung der Ergebnisse</h3>
<ul>
<li><p>Im Prüfungsgespräch sollt ihr euren mit Quarto verfassten Artikel und die darin enthalteten Ergebnisse präsentieren.</p></li>
<li><p>Bereitet für die Vorstellung eine kurze Präsentation vor. Die Präsentation darf nicht mehr als 5 Folien beinhalten.</p></li>
<li><p>Der Zeitrahmen für die Präsentation darf 15 Minuten nicht überschreiten, anschließend sind 15 Minuten für Fragen vorgesehen.</p></li>
<li><p>Jedes Gruppenmitglied sollte ungefähr den gleichen Sprechanteil haben.</p></li>
<li><p>Gebt eure Präsentation im PDF-Format zusammen mit den anderen Dateien ab.</p></li>
</ul>
<p>Viel Spaß und Erfolg bei der Bearbeitung der Fallstudie!</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>